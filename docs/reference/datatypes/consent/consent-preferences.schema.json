{
    "meta:license": [
        "Copyright 2021 Adobe Systems Incorporated. All rights reserved.",
        "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
        "you may not use this file except in compliance with the License. You may obtain a copy",
        "of the License at https://creativecommons.org/licenses/by/4.0/"
    ],
    "$id": "https://ns.adobe.com/xdm/datatypes/consents-and-preferences",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "Consent for Privacy, Personalization and Marketing Preferences",
    "description": "Captures consumer consent for collection and use of data related to privacy, personalization and marketing preferences.",
    "type": "object",
    "meta:extensible": true,
    "meta:abstract": true,
    "definitions": {
        "choice-value": {
            "title": "Choice Value",
            "description": "The value specified by the user as their preference or the basis of processing that precludes the need for user consent",
            "type": "string",
            "enum": [
                "y",
                "n",
                "p",
                "u",
                "dy",
                "dn",
                "LI",
                "CT",
                "CP",
                "VI",
                "PI"
            ],
            "meta:enum": {
                "y": "Yes (opt-in)",
                "n": "No (opt-out)",
                "p": "Pending verification",
                "u": "Unknown",
                "dy": "Default of Yes (opt-in)",
                "dn": "Default of No (opt-out)",
                "LI": "Legitimate Interest",
                "CT": "Contract",
                "CP": "Compliance with a Legal Obligation",
                "VI": "Vital Interest of the Individual",
                "PI": "Public Interest"
            },
            "meta:titleId": "consents-and-preferences##choice-value##title##90081",
            "meta:descriptionId": "consents-and-preferences##choice-value##description##60451"
        },
        "timestamp": {
            "title": "Preference timestamp",
            "description": "Date and time this specific preference was collected. This value should conform to ISO 8601 standard. An example form is \"2004-10-23T12:00:00-06:00\".",
            "type": "string",
            "format": "date-time",
            "meta:titleId": "consents-and-preferences##timestamp##title##24101",
            "meta:descriptionId": "consents-and-preferences##timestamp##description##75121"
        },
        "source": {
            "title": "Preference Source",
            "description": "Through which interface did the user provide this preference value",
            "type": "string",
            "maxLength": 15,
            "meta:titleId": "consents-and-preferences##source##title##48791",
            "meta:descriptionId": "consents-and-preferences##source##description##65211"
        },
        "reason": {
            "title": "Opt-out reason",
            "type": "string",
            "description": "Reason for opting out",
            "maxLength": 16,
            "meta:titleId": "consents-and-preferences##reason##title##68311",
            "meta:descriptionId": "consents-and-preferences##reason##description##82931"
        },
        "subscriptions": {
            "title": "Subscriptions",
            "description": "A set of notifications, newsletters, etc. to which the user subscribes",
            "type": "object",
            "meta:xdmType": "map",
            "additionalProperties": {
                "type": "object",
                "title": "Subscription",
                "description": "The name or identifier of the specific subscription",
                "properties": {
                    "xdm:val": {
                        "$ref": "#/definitions/choice-value"
                    },
                    "xdm:type": {
                        "title": "Subscription Type",
                        "description": "The type of subscription",
                        "type": "string",
                        "maxLength": 15,
                        "meta:titleId": "consents-and-preferences##xdm:type##title##38651",
                        "meta:descriptionId": "consents-and-preferences##xdm:type##description##33851"
                    },
                    "xdm:subscribers": {
                        "title": "Subscribers",
                        "description": "The set of identifiers (email addresses, phone numbers, etc.) for this user who have subscribed",
                        "type": "object",
                        "meta:xdmType": "map",
                        "additionalProperties": {
                            "type": "object",
                            "title": "Subscriber",
                            "description": "The specific identifier (email addresses, phone numbers, etc.) for this subscriber",
                            "properties": {
                                "xdm:time": {
                                    "$ref": "#/definitions/timestamp"
                                },
                                "xdm:source": {
                                    "$ref": "#/definitions/source"
                                }
                            },
                            "meta:titleId": "consents-and-preferences##additionalProperties##title##4951",
                            "meta:descriptionId": "consents-and-preferences##additionalProperties##description##12551"
                        },
                        "meta:titleId": "consents-and-preferences##xdm:subscribers##title##52041",
                        "meta:descriptionId": "consents-and-preferences##xdm:subscribers##description##53051"
                    }
                },
                "meta:titleId": "consents-and-preferences##additionalProperties##title##27621",
                "meta:descriptionId": "consents-and-preferences##additionalProperties##description##23971"
            },
            "meta:titleId": "consents-and-preferences##subscriptions##title##6111",
            "meta:descriptionId": "consents-and-preferences##subscriptions##description##94861"
        },
        "consent-field": {
            "type": "object",
            "properties": {
                "xdm:val": {
                    "description": "The value specified by the user as their consent choice or the basis of processing that precludes the need for user consent",
                    "$ref": "#/definitions/choice-value",
                    "meta:descriptionId": "consents-and-preferences##xdm:val##description##17381"
                }
            },
            "required": [
                "xdm:val"
            ]
        },
        "personalization-field": {
            "type": "object",
            "properties": {
                "xdm:val": {
                    "$ref": "#/definitions/choice-value"
                }
            },
            "required": [
                "xdm:val"
            ]
        },
        "base-personalization": {
            "title": "Personalization Preferences",
            "description": "User's Personalization Preferences",
            "type": "object",
            "properties": {
                "xdm:content": {
                    "title": "Personalize Content",
                    "description": "Allow personalization of the content on my site or in my apps",
                    "$ref": "#/definitions/personalization-field",
                    "meta:titleId": "consents-and-preferences##xdm:content##title##17151",
                    "meta:descriptionId": "consents-and-preferences##xdm:content##description##74671"
                }
            },
            "meta:titleId": "consents-and-preferences##base-personalization##title##90811",
            "meta:descriptionId": "consents-and-preferences##base-personalization##description##38301"
        },
        "marketing-field": {
            "type": "object",
            "properties": {
                "xdm:val": {
                    "$ref": "#/definitions/choice-value"
                },
                "xdm:time": {
                    "$ref": "#/definitions/timestamp"
                },
                "xdm:reason": {
                    "$ref": "#/definitions/reason"
                }
            },
            "required": [
                "xdm:val"
            ]
        },
        "marketing-with-subscriptions": {
            "type": "object",
            "properties": {
                "xdm:val": {
                    "$ref": "#/definitions/choice-value"
                },
                "xdm:time": {
                    "$ref": "#/definitions/timestamp"
                },
                "xdm:reason": {
                    "$ref": "#/definitions/reason"
                },
                "xdm:subscriptions": {
                    "$ref": "#/definitions/subscriptions"
                }
            },
            "required": [
                "xdm:val"
            ]
        },
        "base-marketing": {
            "title": "Marketing Preferences",
            "description": "User's Direct Marketing Preferences",
            "type": "object",
            "properties": {
                "xdm:preferred": {
                    "title": "Preferred Channel",
                    "description": "User's preferred channel for receiving communications",
                    "type": "string",
                    "enum": [
                        "email",
                        "push",
                        "inApp",
                        "sms",
                        "phone",
                        "phyMail",
                        "inVehicle",
                        "inHome",
                        "iot",
                        "social",
                        "other",
                        "none",
                        "unknown"
                    ],
                    "meta:enum": {
                        "email": "email",
                        "push": "Push Notifications",
                        "inApp": "In-app Messages",
                        "sms": "SMS (Text Messages)",
                        "phone": "Phone Calls",
                        "phyMail": "Physical Mail",
                        "inVehicle": "In-vehicle Messages",
                        "inHome": "In-home Messages",
                        "iot": "IoT Messages",
                        "social": "Social Media",
                        "other": "Other",
                        "none": "No Preferred Channel",
                        "unknown": "Unknown"
                    },
                    "meta:titleId": "consents-and-preferences##xdm:preferred##title##32641",
                    "meta:descriptionId": "consents-and-preferences##xdm:preferred##description##61611"
                },
                "xdm:any": {
                    "title": "General Direct Marketing Preference",
                    "description": "Does user permit any type of direct marketing",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:any##title##46181",
                    "meta:descriptionId": "consents-and-preferences##xdm:any##description##13441"
                },
                "xdm:email": {
                    "title": "Receive email",
                    "description": "User agrees to receive email",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:email##title##16301",
                    "meta:descriptionId": "consents-and-preferences##xdm:email##description##40161"
                },
                "xdm:push": {
                    "title": "Receive push notifications",
                    "description": "User permits receiving push notifications",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:push##title##90871",
                    "meta:descriptionId": "consents-and-preferences##xdm:push##description##20371"
                },
                "xdm:sms": {
                    "title": "Receive SMS",
                    "description": "User agrees to receive text messages",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:sms##title##30801",
                    "meta:descriptionId": "consents-and-preferences##xdm:sms##description##52181"
                }
            },
            "meta:titleId": "consents-and-preferences##base-marketing##title##92381",
            "meta:descriptionId": "consents-and-preferences##base-marketing##description##32551"
        },
        "base-marketing-with-subscriptions": {
            "title": "Marketing Preferences",
            "description": "User's Direct Marketing Preferences",
            "type": "object",
            "properties": {
                "xdm:preferred": {
                    "title": "Preferred Channel",
                    "description": "User's preferred channel for receiving communications",
                    "type": "string",
                    "enum": [
                        "email",
                        "push",
                        "inApp",
                        "sms",
                        "phone",
                        "phyMail",
                        "inVehicle",
                        "inHome",
                        "iot",
                        "social",
                        "other",
                        "none",
                        "unknown"
                    ],
                    "meta:enum": {
                        "email": "email",
                        "push": "Push Notifications",
                        "inApp": "In-app Messages",
                        "sms": "SMS (Text Messages)",
                        "phone": "Phone Calls",
                        "phyMail": "Physical Mail",
                        "inVehicle": "In-vehicle Messages",
                        "inHome": "In-home Messages",
                        "iot": "IoT Messages",
                        "social": "Social Media",
                        "other": "Other",
                        "none": "No Preferred Channel",
                        "unknown": "Unknown"
                    },
                    "meta:titleId": "consents-and-preferences##xdm:preferred##title##90841",
                    "meta:descriptionId": "consents-and-preferences##xdm:preferred##description##55711"
                },
                "xdm:any": {
                    "title": "General Direct Marketing Preference",
                    "description": "Does user permit any type of direct marketing",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:any##title##93221",
                    "meta:descriptionId": "consents-and-preferences##xdm:any##description##26851"
                },
                "xdm:email": {
                    "title": "Receive email",
                    "description": "User agrees to receive email",
                    "$ref": "#/definitions/marketing-with-subscriptions",
                    "meta:titleId": "consents-and-preferences##xdm:email##title##52261",
                    "meta:descriptionId": "consents-and-preferences##xdm:email##description##47651"
                },
                "xdm:push": {
                    "title": "Receive push notifications",
                    "description": "User permits receiving push notifications",
                    "$ref": "#/definitions/marketing-with-subscriptions",
                    "meta:titleId": "consents-and-preferences##xdm:push##title##36391",
                    "meta:descriptionId": "consents-and-preferences##xdm:push##description##10291"
                },
                "xdm:sms": {
                    "title": "Receive SMS",
                    "description": "User agrees to receive text messages",
                    "$ref": "#/definitions/marketing-with-subscriptions",
                    "meta:titleId": "consents-and-preferences##xdm:sms##title##29031",
                    "meta:descriptionId": "consents-and-preferences##xdm:sms##description##67281"
                }
            },
            "meta:titleId": "consents-and-preferences##base-marketing-with-subscriptions##title##94101",
            "meta:descriptionId": "consents-and-preferences##base-marketing-with-subscriptions##description##25731"
        },
        "idSpecific-marketing": {
            "title": "Marketing Preferences",
            "description": "User's Direct Marketing Preferences",
            "type": "object",
            "properties": {
                "xdm:email": {
                    "title": "Receive email",
                    "description": "User agrees to receive email",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:email##title##89261",
                    "meta:descriptionId": "consents-and-preferences##xdm:email##description##991"
                },
                "xdm:push": {
                    "title": "Receive push notifications",
                    "description": "User permits receiving push notifications",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:push##title##26961",
                    "meta:descriptionId": "consents-and-preferences##xdm:push##description##38441"
                },
                "xdm:sms": {
                    "title": "Receive SMS",
                    "description": "User agrees to receive text messages",
                    "$ref": "#/definitions/marketing-field",
                    "meta:titleId": "consents-and-preferences##xdm:sms##title##89521",
                    "meta:descriptionId": "consents-and-preferences##xdm:sms##description##62661"
                }
            },
            "meta:titleId": "consents-and-preferences##idSpecific-marketing##title##29721",
            "meta:descriptionId": "consents-and-preferences##idSpecific-marketing##description##58641"
        },
        "metadata": {
            "properties": {
                "xdm:time": {
                    "title": "Consent/Preferences timestamp",
                    "description": "Timestamp of this complete set of user consents and preferences. This value should conform to ISO 8601 standard. An example form is \"2004-10-23T12:00:00-06:00\".",
                    "type": "string",
                    "format": "date-time",
                    "meta:titleId": "consents-and-preferences##xdm:time##title##10071",
                    "meta:descriptionId": "consents-and-preferences##xdm:time##description##92301"
                }
            }
        },
        "consent-preferences": {
            "properties": {
                "xdm:consents": {
                    "title": "Consents and Preferences",
                    "description": "Specific Consent and Preference Options",
                    "type": "object",
                    "properties": {
                        "xdm:collect": {
                            "title": "Data Collection",
                            "description": "Data collection is permitted",
                            "$ref": "#/definitions/consent-field",
                            "meta:titleId": "consents-and-preferences##xdm:collect##title##44291",
                            "meta:descriptionId": "consents-and-preferences##xdm:collect##description##81381"
                        },
                        "xdm:share": {
                            "title": "Share Data",
                            "description": "Sharing of user's data with 2nd or 3rd parties is permitted",
                            "$ref": "#/definitions/consent-field",
                            "meta:titleId": "consents-and-preferences##xdm:share##title##5571",
                            "meta:descriptionId": "consents-and-preferences##xdm:share##description##14031"
                        },
                        "xdm:adID": {
                            "title": "Use Advertiser ID",
                            "description": "The Advertiser ID (IDFA / AAID) can be used to link user across apps on this device",
                            "$ref": "#/definitions/consent-field",
                            "meta:titleId": "consents-and-preferences##xdm:adID##title##6681",
                            "meta:descriptionId": "consents-and-preferences##xdm:adID##description##49751"
                        },
                        "xdm:personalize": {
                            "$ref": "#/definitions/base-personalization"
                        },
                        "xdm:marketing": {
                            "$ref": "#/definitions/base-marketing"
                        },
                        "xdm:metadata": {
                            "title": "Consent and Preference Metadata",
                            "description": "Metadata that applies to all consents and preferences that don't specify a different value",
                            "$ref": "#/definitions/metadata",
                            "meta:titleId": "consents-and-preferences##xdm:metadata##title##87071",
                            "meta:descriptionId": "consents-and-preferences##xdm:metadata##description##41561"
                        }
                    },
                    "meta:titleId": "consents-and-preferences##xdm:consents##title##66241",
                    "meta:descriptionId": "consents-and-preferences##xdm:consents##description##29851"
                }
            }
        },
        "profile-consents": {
            "properties": {
                "xdm:consents": {
                    "title": "Consents and Preferences",
                    "description": "Specific Consent and Preference Options",
                    "type": "object",
                    "properties": {
                        "xdm:collect": {
                            "title": "Data Collection",
                            "description": "Data collection is permitted",
                            "$ref": "#/definitions/consent-field",
                            "meta:titleId": "consents-and-preferences##xdm:collect##title##92731",
                            "meta:descriptionId": "consents-and-preferences##xdm:collect##description##44781"
                        },
                        "xdm:share": {
                            "title": "Share Data",
                            "description": "Sharing of user's data with 2nd or 3rd parties is permitted",
                            "$ref": "#/definitions/consent-field",
                            "meta:titleId": "consents-and-preferences##xdm:share##title##75871",
                            "meta:descriptionId": "consents-and-preferences##xdm:share##description##79541"
                        },
                        "xdm:personalize": {
                            "$ref": "#/definitions/base-personalization"
                        },
                        "xdm:marketing": {
                            "$ref": "#/definitions/base-marketing-with-subscriptions"
                        },
                        "xdm:idSpecific": {
                            "title": "Identifier specific",
                            "description": "Identifier specific consents and preferences",
                            "type": "object",
                            "meta:xdmType": "map",
                            "additionalProperties": {
                                "title": "Identifier Type",
                                "type": "object",
                                "meta:xdmType": "map",
                                "additionalProperties": {
                                    "type": "object",
                                    "title": "Identifier",
                                    "properties": {
                                        "xdm:collect": {
                                            "title": "Data Collection",
                                            "description": "Data collection is permitted",
                                            "$ref": "#/definitions/consent-field",
                                            "meta:titleId": "consents-and-preferences##xdm:collect##title##37151",
                                            "meta:descriptionId": "consents-and-preferences##xdm:collect##description##10721"
                                        },
                                        "xdm:share": {
                                            "title": "Share Data",
                                            "description": "Sharing of user's data with 2nd or 3rd parties is permitted",
                                            "$ref": "#/definitions/consent-field",
                                            "meta:titleId": "consents-and-preferences##xdm:share##title##87791",
                                            "meta:descriptionId": "consents-and-preferences##xdm:share##description##69661"
                                        },
                                        "xdm:adID": {
                                            "title": "Use Advertiser ID",
                                            "description": "The Advertiser ID (IDFA / AAID) can be used to link user across apps on this device",
                                            "$ref": "#/definitions/consent-field",
                                            "meta:titleId": "consents-and-preferences##xdm:adID##title##54521",
                                            "meta:descriptionId": "consents-and-preferences##xdm:adID##description##65521"
                                        },
                                        "xdm:personalize": {
                                            "$ref": "#/definitions/base-personalization"
                                        },
                                        "xdm:marketing": {
                                            "$ref": "#/definitions/idSpecific-marketing"
                                        }
                                    },
                                    "meta:titleId": "consents-and-preferences##additionalProperties##title##7721"
                                },
                                "meta:titleId": "consents-and-preferences##additionalProperties##title##34811"
                            },
                            "xdm:metadata": {
                                "title": "Consent and Preference Metadata",
                                "description": "Metadata that applies to all consents and preferences that don't specify a different value",
                                "$ref": "#/definitions/metadata",
                                "meta:titleId": "consents-and-preferences##xdm:metadata##title##31051",
                                "meta:descriptionId": "consents-and-preferences##xdm:metadata##description##17851"
                            },
                            "meta:titleId": "consents-and-preferences##xdm:idSpecific##title##26791",
                            "meta:descriptionId": "consents-and-preferences##xdm:idSpecific##description##62351"
                        },
                        "xdm:metadata": {
                            "title": "Consent and Preference Metadata",
                            "description": "Metadata that applies to all consents and preferences that don't specify a different value",
                            "$ref": "#/definitions/metadata",
                            "meta:titleId": "consents-and-preferences##xdm:metadata##title##13681",
                            "meta:descriptionId": "consents-and-preferences##xdm:metadata##description##66421"
                        }
                    },
                    "meta:titleId": "consents-and-preferences##xdm:consents##title##23411",
                    "meta:descriptionId": "consents-and-preferences##xdm:consents##description##25941"
                }
            }
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/consent-preferences"
        }
    ],
    "meta:status": "stable",
    "meta:createdDate": "2021-02-19",
    "meta:titleId": "consents-and-preferences##title##40011",
    "meta:descriptionId": "consents-and-preferences##description##6021",
    "examples": [
        {
            "xdm:consents": {
                "xdm:collect": {
                    "xdm:val": "y"
                },
                "xdm:adID": {
                    "xdm:val": "VI"
                },
                "xdm:share": {
                    "xdm:val": "n"
                },
                "xdm:personalize": {
                    "xdm:content": {
                        "xdm:val": "y"
                    }
                },
                "xdm:marketing": {
                    "xdm:preferred": "email",
                    "xdm:any": {
                        "xdm:val": "y"
                    },
                    "xdm:email": {
                        "xdm:val": "y"
                    },
                    "xdm:push": {
                        "xdm:val": "n",
                        "xdm:reason": "Too Frequent"
                    }
                },
                "xdm:metadata": {
                    "xdm:time": "2019-01-01T15:52:25+00:00"
                }
            }
        }
    ]
}