{
  "meta:license": [
    "Copyright 2020 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$id": "https://ns.adobe.com/xdm/datatypes/consent-preferences",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "title": "Privacy/Marketing Preferences (Consent)",
  "description": "This schema captures privacy, personalization and marketing preferences (consents).",
  "type": "object",
  "meta:extensible": true,
  "meta:abstract": true,
  "definitions": {
    "choice-value": {
      "title": "Choice Value",
      "description": "The value specified by the user as their preference",
      "type": "string",
      "enum": ["yes", "no", "pending", "unknown", "not_applicable"],
      "meta:enum": {
        "yes": "Yes",
        "no": "No",
        "pending": "Pending verification",
        "unknown": "Unknown",
        "not_applicable": "Not Applicable"
      },
      "meta:titleId": "consent-preferences##choice-value##title##56691",
      "meta:descriptionId": "consent-preferences##choice-value##description##72971"
    },
    "basis-of-processing": {
      "title": "Basis Of Processing",
      "type": "string",
      "description": "Legal basis for collecting/processing data: is user consent required?",
      "enum": [
        "consent",
        "legitimate_interest",
        "contract",
        "compliance",
        "vital_interest",
        "public_interest"
      ],
      "meta:enum": {
        "consent": "User Consent",
        "legitimate_interest": "Legitimate Interest",
        "contract": "Contract",
        "compliance": "Compliance with a Legal Obligation",
        "vital_interest": "Vital Interest of the Individual",
        "public_interest": "Public Interest"
      },
      "meta:titleId": "consent-preferences##basis-of-processing##title##22241",
      "meta:descriptionId": "consent-preferences##basis-of-processing##description##85681"
    },
    "timestamp": {
      "title": "Preference timestamp",
      "description": "Time this specific preference was collected.",
      "type": "string",
      "format": "date-time",
      "meta:titleId": "consent-preferences##timestamp##title##92411",
      "meta:descriptionId": "consent-preferences##timestamp##description##11531"
    },
    "source": {
      "title": "Preference Source",
      "description": "Through which interface did the user provide this preference value",
      "type": "string",
      "maxLength": 20,
      "meta:titleId": "consent-preferences##source##title##1391",
      "meta:descriptionId": "consent-preferences##source##description##92221"
    },
    "consent-fields": {
      "type": "object",
      "properties": {
        "xdm:choice": {
          "description": "The value specified by the user as their consent choice",
          "$ref": "#/definitions/choice-value",
          "meta:descriptionId": "consent-preferences##xdm:choice##description##16551"
        },
        "xdm:basisOfProcessing": {
          "$ref": "#/definitions/basis-of-processing"
        },
        "xdm:timestamp": {
          "title": "Consent timestamp",
          "description": "Time this specific consent was collected.",
          "$ref": "#/definitions/timestamp",
          "meta:titleId": "consent-preferences##xdm:timestamp##title##41611",
          "meta:descriptionId": "consent-preferences##xdm:timestamp##description##47591"
        },
        "xdm:source": {
          "title": "Consent Source",
          "description": "Through which interface did the user provide this consent value",
          "$ref": "#/definitions/source",
          "meta:titleId": "consent-preferences##xdm:source##title##78351",
          "meta:descriptionId": "consent-preferences##xdm:source##description##5871"
        }
      }
    },
    "personalization-fields": {
      "type": "object",
      "properties": {
        "xdm:choice": {
          "$ref": "#/definitions/choice-value"
        },
        "xdm:basisOfProcessing": {
          "$ref": "#/definitions/basis-of-processing"
        },
        "xdm:timestamp": {
          "$ref": "#/definitions/timestamp"
        },
        "xdm:source": {
          "$ref": "#/definitions/source"
        }
      }
    },
    "marketing-fields": {
      "type": "object",
      "properties": {
        "xdm:choice": {
          "$ref": "#/definitions/choice-value"
        },
        "xdm:basisOfProcessing": {
          "$ref": "#/definitions/basis-of-processing"
        },
        "xdm:timestamp": {
          "$ref": "#/definitions/timestamp"
        },
        "xdm:source": {
          "$ref": "#/definitions/source"
        },
        "xdm:reason": {
          "title": "Opt out reason",
          "type": "string",
          "description": "Reason for opting out",
          "maxLength": 20,
          "meta:titleId": "consent-preferences##xdm:reason##title##89431",
          "meta:descriptionId": "consent-preferences##xdm:reason##description##19671"
        }
      }
    },
    "choices": {
      "properties": {
        "xdm:consents": {
          "title": "Consents",
          "description": "Encapsulates user consents.",
          "type": "object",
          "properties": {
            "xdm:dataCollection": {
              "title": "Data Collection",
              "description": "Data collection is permitted",
              "$ref": "#/definitions/consent-fields",
              "meta:titleId": "consent-preferences##xdm:dataCollection##title##98261",
              "meta:descriptionId": "consent-preferences##xdm:dataCollection##description##68951"
            },
            "xdm:sellData": {
              "title": "Sell Data",
              "description": "Selling of user's Data to 2nd or 3rd parties is permitted",
              "$ref": "#/definitions/consent-fields",
              "meta:titleId": "consent-preferences##xdm:sellData##title##60321",
              "meta:descriptionId": "consent-preferences##xdm:sellData##description##86251"
            },
            "xdm:shareData": {
              "title": "Share Data",
              "description": "Sharing of user's Data with 2nd or 3rd parties is permitted",
              "$ref": "#/definitions/consent-fields",
              "meta:titleId": "consent-preferences##xdm:shareData##title##16931",
              "meta:descriptionId": "consent-preferences##xdm:shareData##description##73061"
            },
            "xdm:pseudonymousAnalysis": {
              "title": "Pseudonymous Analysis",
              "description": "Data can be used for analysis that may include an ID that may or may not be tied to an actual person",
              "$ref": "#/definitions/consent-fields",
              "meta:titleId": "consent-preferences##xdm:pseudonymousAnalysis##title##71471",
              "meta:descriptionId": "consent-preferences##xdm:pseudonymousAnalysis##description##29581"
            },
            "xdm:deviceLinking": {
              "title": "Device Linking",
              "description": "Attempts to link multiple devices belonging to an individual or household are permitted",
              "$ref": "#/definitions/consent-fields",
              "meta:titleId": "consent-preferences##xdm:deviceLinking##title##96761",
              "meta:descriptionId": "consent-preferences##xdm:deviceLinking##description##97951"
            }
          },
          "meta:titleId": "consent-preferences##xdm:consents##title##44181",
          "meta:descriptionId": "consent-preferences##xdm:consents##description##88271"
        },
        "xdm:personalizationPreferences": {
          "title": "Personalization Preferences",
          "description": "User's Personalization Preferences",
          "type": "object",
          "properties": {
            "xdm:anyPersonalization": {
              "title": "General Personalization Preference",
              "description": "Is permission granted to perform any type of personalization",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:anyPersonalization##title##29331",
              "meta:descriptionId": "consent-preferences##xdm:anyPersonalization##description##39581"
            },
            "xdm:email": {
              "title": "Personalize email",
              "description": "Allow personalization of emails sent to the user",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:email##title##5841",
              "meta:descriptionId": "consent-preferences##xdm:email##description##5001"
            },
            "xdm:physicalMail": {
              "title": "Personalize physical mail",
              "description": "Allow personalization of offers sent via traditional/physical mail",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:physicalMail##title##61201",
              "meta:descriptionId": "consent-preferences##xdm:physicalMail##description##96231"
            },
            "xdm:pushNotifications": {
              "title": "Personalize push notifications",
              "description": "Personalization of push notifications is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:pushNotifications##title##81511",
              "meta:descriptionId": "consent-preferences##xdm:pushNotifications##description##35001"
            },
            "xdm:sms": {
              "title": "Personalize SMS",
              "description": "Personalization of text messages is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:sms##title##15821",
              "meta:descriptionId": "consent-preferences##xdm:sms##description##68841"
            },
            "xdm:phoneCalls": {
              "title": "Personalize phone calls",
              "description": "Allow phone calls that the brand initiates to be personalized based on the user's interests or behavior",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:phoneCalls##title##92601",
              "meta:descriptionId": "consent-preferences##xdm:phoneCalls##description##54681"
            },
            "xdm:iotDevices": {
              "title": "Personalize IoT Devices",
              "description": "Personalization of interactions with IoT devices is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:iotDevices##title##75641",
              "meta:descriptionId": "consent-preferences##xdm:iotDevices##description##22671"
            },
            "xdm:socialMedia": {
              "title": "Personalize Social Media",
              "description": "Personalization of interactions on Social Media sites/apps is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:socialMedia##title##81401",
              "meta:descriptionId": "consent-preferences##xdm:socialMedia##description##49131"
            },
            "xdm:inAppMessages": {
              "title": "Personalize in-app messages",
              "description": "Allow personalization of messages displayed within my apps",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:inAppMessages##title##78411",
              "meta:descriptionId": "consent-preferences##xdm:inAppMessages##description##10221"
            },
            "xdm:inVehicle": {
              "title": "Personalize in-vehicle",
              "description": "Personalization of in-vehicle experiences is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:inVehicle##title##94531",
              "meta:descriptionId": "consent-preferences##xdm:inVehicle##description##36411"
            },
            "xdm:inHome": {
              "title": "Personalize in-home",
              "description": "Personalization of in-home experiences is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:inHome##title##64231",
              "meta:descriptionId": "consent-preferences##xdm:inHome##description##80181"
            },
            "xdm:inStore": {
              "title": "Personalize in-store",
              "description": "Personalization of in-store experiences is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:inStore##title##33751",
              "meta:descriptionId": "consent-preferences##xdm:inStore##description##90801"
            },
            "xdm:content": {
              "title": "Personalize content",
              "description": "Allow personalization of the content on my site or in my apps",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:content##title##74761",
              "meta:descriptionId": "consent-preferences##xdm:content##description##93321"
            },
            "xdm:offers": {
              "title": "Personalize Offers",
              "description": "Allow personalization of 1st-party offers displayed on this site or with this app",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:offers##title##80011",
              "meta:descriptionId": "consent-preferences##xdm:offers##description##29401"
            },
            "xdm:customerSupport": {
              "title": "Personalize customer support",
              "description": "Allow customer support to personalize responses/suggestions based on user's interests or behavior",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:customerSupport##title##22951",
              "meta:descriptionId": "consent-preferences##xdm:customerSupport##description##55951"
            },
            "xdm:thirdPartyOffers": {
              "title": "Personalize ",
              "description": "Personalization of third-party offers/ads displayed on this brand's sites or apps is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:thirdPartyOffers##title##69281",
              "meta:descriptionId": "consent-preferences##xdm:thirdPartyOffers##description##25541"
            },
            "xdm:thirdPartyContent": {
              "title": "Personalize ",
              "description": "Personalization of third-party content displayed on this brand's sites or apps is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:thirdPartyContent##title##10961",
              "meta:descriptionId": "consent-preferences##xdm:thirdPartyContent##description##95571"
            },
            "xdm:advertising": {
              "title": "Personalize Ads",
              "description": "Personalization of this brand's ads on third-party sites/apps is permitted",
              "$ref": "#/definitions/personalization-fields",
              "meta:titleId": "consent-preferences##xdm:advertising##title##11401",
              "meta:descriptionId": "consent-preferences##xdm:advertising##description##36761"
            }
          },
          "meta:titleId": "consent-preferences##xdm:personalizationPreferences##title##39641",
          "meta:descriptionId": "consent-preferences##xdm:personalizationPreferences##description##17371"
        },
        "xdm:marketingPreferences": {
          "title": "Marketing Preferences",
          "description": "User's Direct Marketing Preferences",
          "type": "object",
          "properties": {
            "xdm:preferredChannel": {
              "title": "Preferred Channel",
              "description": "User's preferred channel for receiving communications",
              "type": "string",
              "enum": [
                "email",
                "push_notifications",
                "in_app_messages",
                "sms",
                "phone_calls",
                "physical_mail",
                "inVehicle_messages",
                "in_home_messages",
                "iot_messages",
                "social_media",
                "other",
                "none",
                "unknown"
              ],
              "meta:enum": {
                "email": "email",
                "push_notifications": "Push Notifications",
                "in_app_messages": "In-app Messages",
                "sms": "SMS (Text Messages)",
                "phone_calls": "Phone Calls",
                "physical_mail": "Physical Mail",
                "inVehicle_messages": "In-vehicle Messages",
                "in_home_messages": "In-home Messages",
                "iot": "IoT Messages",
                "social_media": "Social Media",
                "other": "Other",
                "no_preferred": "No Preferred Channel",
                "unknown": "Unknown"
              },
              "meta:titleId": "consent-preferences##xdm:preferredChannel##title##26671",
              "meta:descriptionId": "consent-preferences##xdm:preferredChannel##description##68701"
            },
            "xdm:anyMarketing": {
              "title": "General Direct Marketing Preference",
              "description": "Does user permit any type of direct marketing",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:anyMarketing##title##60431",
              "meta:descriptionId": "consent-preferences##xdm:anyMarketing##description##51441"
            },
            "xdm:email": {
              "title": "Receive email",
              "description": "User agrees to receive email",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:email##title##12921",
              "meta:descriptionId": "consent-preferences##xdm:email##description##14991"
            },
            "xdm:physicalMail": {
              "title": "Receive physical mail",
              "description": "User agrees to being contacted via traditional/physical mail.",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:physicalMail##title##13421",
              "meta:descriptionId": "consent-preferences##xdm:physicalMail##description##56061"
            },
            "xdm:pushNotifications": {
              "title": "Receive push notifications",
              "description": "User permits receiving push notifications",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:pushNotifications##title##43741",
              "meta:descriptionId": "consent-preferences##xdm:pushNotifications##description##51841"
            },
            "xdm:sms": {
              "title": "Receive SMS",
              "description": "User agrees to receive text messages",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:sms##title##24791",
              "meta:descriptionId": "consent-preferences##xdm:sms##description##50121"
            },
            "xdm:phoneCalls": {
              "title": "Receive phone calls",
              "description": "The brand may contact the user via phone",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:phoneCalls##title##28741",
              "meta:descriptionId": "consent-preferences##xdm:phoneCalls##description##56311"
            },
            "xdm:iotMessages": {
              "title": "Receive IoT messages",
              "description": "It is okay to interact with the user via IoT devices",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:iotMessages##title##23601",
              "meta:descriptionId": "consent-preferences##xdm:iotMessages##description##47241"
            },
            "xdm:socialMedia": {
              "title": "Receive Social Media Messages",
              "description": "It is okay to send messages to the user on their social media accounts",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:socialMedia##title##27541",
              "meta:descriptionId": "consent-preferences##xdm:socialMedia##description##01"
            },
            "xdm:inAppMessages": {
              "title": "Receive in-app messages",
              "description": "User permits messages to be shown within the brands's apps",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:inAppMessages##title##16951",
              "meta:descriptionId": "consent-preferences##xdm:inAppMessages##description##88211"
            },
            "xdm:inVehicleMessages": {
              "title": "Receive in-vehicle messages",
              "description": "It is okay to interact with the user via technology installed in the user's vehicle",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:inVehicleMessages##title##40291",
              "meta:descriptionId": "consent-preferences##xdm:inVehicleMessages##description##1291"
            },
            "xdm:inHomeMessages": {
              "title": "Receive in-home messages",
              "description": "It is okay to interact with the user via technology installed in the user's home",
              "$ref": "#/definitions/marketing-fields",
              "meta:titleId": "consent-preferences##xdm:inHomeMessages##title##38251",
              "meta:descriptionId": "consent-preferences##xdm:inHomeMessages##description##28861"
            }
          },
          "meta:titleId": "consent-preferences##xdm:marketingPreferences##title##99361",
          "meta:descriptionId": "consent-preferences##xdm:marketingPreferences##description##45241"
        }
      }
    },
    "metadata": {
      "properties": {
        "xdm:version": {
          "title": "Consent Schema Version",
          "description": "Version of the Consents and Preferences Schema",
          "type": "string",
          "pattern": "^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]{1,4}$",
          "default": "1.0.0",
          "meta:titleId": "consent-preferences##xdm:version##title##25071",
          "meta:descriptionId": "consent-preferences##xdm:version##description##61401"
        },
        "xdm:timestamp": {
          "title": "Consent/Preferences timestamp",
          "description": "Timestamp of this complete set of user consents and preferences",
          "type": "string",
          "format": "date-time",
          "meta:titleId": "consent-preferences##xdm:timestamp##title##27121",
          "meta:descriptionId": "consent-preferences##xdm:timestamp##description##63401"
        },
        "xdm:source": {
          "title": "Consent/Preferences source",
          "description": "Through which interface did the user provide their choices for this complete set of user consents and preferences",
          "$ref": "#/definitions/source",
          "meta:titleId": "consent-preferences##xdm:source##title##49791",
          "meta:descriptionId": "consent-preferences##xdm:source##description##19241"
        },
        "xdm:userIDfromSource": {
          "title": "Source's ID for the user",
          "description": "Source's ID for the user",
          "type": "string",
          "maxLength": 20,
          "meta:titleId": "consent-preferences##xdm:userIDfromSource##title##78751",
          "meta:descriptionId": "consent-preferences##xdm:userIDfromSource##description##38771"
        },
        "xdm:userCountryRegionCode": {
          "title": "User Country (and optionally Region) Code",
          "description": "ISO 3166 alpha2 country code or ISO 3166-2 country plus state/province code for use in helping to determine how to interpret consent values",
          "type": "string",
          "maxLength": 6,
          "pattern": "^[A-Z]{2}(-[A-Z0-9]{1,3}){0,1}$",
          "meta:titleId": "consent-preferences##xdm:userCountryRegionCode##title##80421",
          "meta:descriptionId": "consent-preferences##xdm:userCountryRegionCode##description##69481"
        },
        "xdm:countryRegionSource": {
          "title": "Country/Region Source",
          "description": "Method used to determine the user's country/region",
          "type": "string",
          "enum": [
            "ip",
            "gps",
            "user_provided",
            "website_location",
            "inferred",
            "other"
          ],
          "meta:enum": {
            "ip": "IP Address",
            "gps": "Device GPS",
            "user_provided": "User Provided",
            "website_location": "Website location or eTLD",
            "inferred": "Inferred",
            "other": "Other"
          },
          "meta:titleId": "consent-preferences##xdm:countryRegionSource##title##25431",
          "meta:descriptionId": "consent-preferences##xdm:countryRegionSource##description##92861"
        }
      }
    },
    "consent-preferences": {
      "properties": {
        "xdm:choices": {
          "title": "Consent and Preference Choices",
          "description": "Specific Consent and Preference Options",
          "$ref": "#/definitions/choices",
          "meta:titleId": "consent-preferences##xdm:choices##title##87341",
          "meta:descriptionId": "consent-preferences##xdm:choices##description##31531"
        },
        "xdm:choicesMetadata": {
          "title": "Consent and Preference Metadata",
          "description": "Metadata that applies to all consents and preferences that don't specify a different value",
          "$ref": "#/definitions/metadata",
          "meta:titleId": "consent-preferences##xdm:choicesMetadata##title##44191",
          "meta:descriptionId": "consent-preferences##xdm:choicesMetadata##description##36651"
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/consent-preferences"
    }
  ],
  "meta:status": "deprecated",
  "meta:createdDate": "2021-02-19",
  "meta:titleId": "consent-preferences##title##67071",
  "meta:descriptionId": "consent-preferences##description##51691"
}
